<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>Document</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">


</head>

<body>


    <div class="container">


        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat. Duis casa aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>lorem</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat. Duis teste aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>lorem</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat. Duis teste aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>lorem</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi casa ut aliquip ex ea commodo
            consequat. Duis teste aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>lorem</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
            tempor javascript incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat. Duis teste aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
        <p>lorem</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do casa eiusmod
            tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
            quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
            consequat. Duis frontend aute irure dolor in reprehenderit in voluptate velit esse
            cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
            proident, sunt in culpa qui officia deserunt mollit anim id teste est laborum.</p>
        <p>lorem</p>
    </div>
    <script src="https://code.jquery.com/jquery-3.3.1.js"
        integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60=" crossorigin="anonymous"></script>

    <script>


        // Funções utilitárias jquery
        // Muitas já não são tão necessárias. Pela evolução do Javascript

        /*
        // para todo <p>
        // each iteração nos elementos encontrados      i index , el elemento    
        $('p').each(function (i, el) {
            // mostra console
            console.log(i, el)
            // antes do paragrafo insere indice e -
            $(el).prepend(i + ' - ')
            return "teste" //não tem efeito algum
        })
        $.each( $('p'), function(i, el){
            console.log(i, el)
            // coloca no fim de todos <p>
                $(el).append(' <b>alterado com $.each()</b>')
                return "teste" //não tem efeito algum
            } )
            let arr = [2, 5, 8, true, "teste"]
            let obj = {
                nome: "daniel",
                sobrenome: "tapias morales",
                profissao: "instrutor de programação"
            }
            
            // iterar em um objeto  como for each
            $.each(arr, function (i, val) {
                console.log(i, val)
            })

            // chave valor do objeto
            $.each(obj, function (key, val) {
                console.log(key, val)
            })
            
            */
        // map cria um array com os conteúdos de p
        let map1 = $('p').map(function (i, el) {
            console.log(i, el)
            // retorna para quem a chamou
            return $(el).html()
            // reverte a order da matriz de retorno ou seja de traz para frente
        }).get().reverse();

        // map1.get() // recupera a sring do objeto



        // remove os paragrados
        $('p').remove()

        let map2 = $.map(map1, function (el, i) {
            console.log(i, el)
            return $('<p>').html(el)
        })

        $('.container').append(map2);


        console.log('-----------------')
        // grep é tipo um filtro
        let arr2 = $.grep($('p'), function (el, i) {
            // se encontrar a palavra casa retrona true e se retorna true é anexada ao array arr2

            return $(el).text().indexOf('casa') >= 0 // precisa retornar baseado em uma condição booleana caso true inclui em map2
        }).reverse()

        //
        $('.container').empty().append($.map(arr2, function (el, i) {
            return $('<p>').html(el)
        }))
        // param formata para envio get
        // converte numa string - útil para envio de valores Ajax
        $('.container').append($('<p>').html($.param(obj)))


    </script>


</body>

</html>